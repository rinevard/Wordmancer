### Wordmancer 开发任务列表

#### 第一阶段：UI重构与组件搭建
- [x] **1. 重构 `App.vue` 整体布局**：将现有布局拆分为左侧（状态显示）、中间（主战斗区）、右侧（交互面板）和底部（手牌区）四个部分。
- [x] **2. 创建 `HeroCard.vue` 组件**：用于显示玩家和敌方英雄。需要支持名字、生命值、意图等属性。
- [x] **3. 创建 `MinionCard.vue` 组件**：用于显示随从。需要支持名字、攻击力、生命值等属性。
- [x] **4. 创建 `Battlefield.vue` 组件**：作为主战斗区的容器，负责排列敌方英雄、随从区域和玩家英雄。
- [x] **5. 创建 `StatusPanel.vue` 组件**：作为左侧面板，用于显示鼠标悬停时卡牌的 `status` 字符串。

#### 第二阶段：游戏状态管理
- [x] **6. 在 `App.vue` 中定义响应式游戏状态**：根据 `gamestate.md` 的结构，创建一个 `ref` 或 `reactive` 对象来管理整个战斗的状态。
- [x] **7. 将组件与游戏状态绑定**：通过 props 将游戏状态数据传递给新创建的UI组件，让界面能够动态展示数据。
- [x] **8. 实现悬停显示状态功能**：为卡牌组件添加 `@mouseenter` 和 `@mouseleave` 事件，用于更新并在 `StatusPanel.vue` 中显示对应卡牌的 `status`。

#### 第三阶段：核心游戏循环
- [ ] **9. 改造 `gemini.js` 服务**：修改 `generateStory` 函数，使其能够发送完整的 `current_state` 和玩家 `action`，并能解析返回的、包含多个 `<narrator>` 和 `<statechange>` 片段的响应。
- [ ] **10. 实现分步状态更新**：重写 `handleSend` 逻辑，使其能够根据LLM返回的序列，逐条播放旁白并更新游戏状态，实现“旁白说一句，状态变一点”的效果。

#### 第四阶段：样式与收尾
- [ ] **11. 为所有新组件添加样式**：根据 `overview.md` 中的描述，为所有卡牌和面板添加CSS样式。
- [ ] **12. 整体视觉与交互优化**：调整布局、间距和动画效果，提升整体游戏体验。
